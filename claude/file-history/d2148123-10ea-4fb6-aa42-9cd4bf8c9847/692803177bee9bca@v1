#![allow(dead_code)]

use std::collections::HashMap;
struct Solution;

impl Solution {
    pub fn longest_common_prefix(strs: Vec<String>) -> String {
        if strs.is_empty() {
            return String::new();
        }

        let mut map: HashMap<String, i32> = HashMap::new();
        let mut result: String = String::new();

        for s in strs {
            for c in s.chars() {
                let count = map.entry(c.to_string()).or_insert(0);
                *count += 1;
            }
        }

        if let Some((char, _)) = map.iter().max_by_key(|&(_, count)| count) {
            result += char;
        }

        result
    }
}

#[cfg(test)]
pub mod tests {
    use super::*;

    #[test]
    fn test_hello() {
        let input: Vec<String> = vec![
            "flower".to_string(),
            "flow".to_string(),
            "flight".to_string(),
        ];
        let expected: String = "fl".to_string();
        let answer: String = Solution::longest_common_prefix(input);
        assert_eq!(expected, answer);
    }
}
